/*! canvas-gifs 2016-06-09 */
var parseGif=function(){function a(a){var b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType="arraybuffer",b.onload=function(a){var c=b.response;if(c){g=new GIF(c);var d=g.decompressFrames(!0);h=d,f()}},b.send(null)}function b(a){var b=a.dims;i&&b.width==i.width&&b.height==i.height||(j.width=b.width,j.height=b.height,i=k.createImageData(b.width,b.height)),i.data.set(a.patch),k.putImageData(i,0,0)}function c(a,b){this._frames=a,this._index=0,this._frameImageData,this._playing=b}function d(a,c){return a=a||"gifImg",void 0===c&&(c=!0),h.map(function(d,e){b(d);var f=document.createElement("img");return f.src=j.toDataURL(),f.id=a+e,f.hidden=c,document.body.appendChild(f)})}function e(a){var c=document.createElement("img");return b(h[a]),c.src=j.toDataURL(),c}function f(){l.getImg=e,l.appendAll=d,l.getGif=function(){return g},l.getFrames=function(){return h},l.gifSprite=c,l.getSprite=function(){return new c(h)},l.onload&&l.onload(l)}!function m(a,b,c){function d(f,g){if(!b[f]){if(!a[f]){var h="function"==typeof require&&require;if(!g&&h)return h(f,!0);if(e)return e(f,!0);var i=new Error("Cannot find module '"+f+"'");throw i.code="MODULE_NOT_FOUND",i}var j=b[f]={exports:{}};a[f][0].call(j.exports,function(b){var c=a[f][1][b];return d(c?c:b)},j,j.exports,m,a,b,c)}return b[f].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b,c){function d(a){this.data=a,this.pos=0}d.prototype.readByte=function(){return this.data[this.pos++]},d.prototype.peekByte=function(){return this.data[this.pos]},d.prototype.readBytes=function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=this.readByte();return b},d.prototype.peekBytes=function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=this.data[this.pos+c];return b},d.prototype.readString=function(a){for(var b="",c=0;a>c;c++)b+=String.fromCharCode(this.readByte());return b},d.prototype.readBitArray=function(){for(var a=[],b=this.readByte(),c=7;c>=0;c--)a.push(!!(b&1<<c));return a},d.prototype.readUnsigned=function(a){var b=this.readBytes(2);return a?(b[1]<<8)+b[0]:(b[0]<<8)+b[1]},b.exports=d},{}],2:[function(a,b,c){function d(a){this.stream=new f(a),this.output={}}function e(a){return a.reduce(function(a,b){return 2*a+b},0)}var f=a("./bytestream");d.prototype.parse=function(a){return this.parseParts(this.output,a),this.output},d.prototype.parseParts=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];this.parsePart(a,d)}},d.prototype.parsePart=function(a,b){var c,d=b.label;if(!b.requires||b.requires(this.stream,this.output,a))if(b.loop){for(var e=[];b.loop(this.stream);){var f={};this.parseParts(f,b.parts),e.push(f)}a[d]=e}else b.parts?(c={},this.parseParts(c,b.parts),a[d]=c):b.parser?(c=b.parser(this.stream,this.output,a),b.skip||(a[d]=c)):b.bits&&(a[d]=this.parseBits(b.bits))},d.prototype.parseBits=function(a){var b={},c=this.stream.readBitArray();for(var d in a){var f=a[d];f.length?b[d]=e(c.slice(f.index,f.index+f.length)):b[d]=c[f.index]}return b},b.exports=d},{"./bytestream":1}],3:[function(a,b,c){var d={readByte:function(){return function(a){return a.readByte()}},readBytes:function(a){return function(b){return b.readBytes(a)}},readString:function(a){return function(b){return b.readString(a)}},readUnsigned:function(a){return function(b){return b.readUnsigned(a)}},readArray:function(a,b){return function(c,d,e){for(var f=b(c,d,e),g=new Array(f),h=0;f>h;h++)g[h]=c.readBytes(a);return g}}};b.exports=d},{}],4:[function(a,b,c){var d=window.GIF||{};d=a("./gif"),window.GIF=d},{"./gif":5}],5:[function(a,b,c){function d(a){var b=new Uint8Array(a),c=new e(b);this.raw=c.parse(f),this.raw.hasImages=!1;for(var d=0;d<this.raw.frames.length;d++)if(this.raw.frames[d].image){this.raw.hasImages=!0;break}}var e=a("../bower_components/js-binary-schema-parser/src/dataparser"),f=a("./schema");d.prototype.decompressFrame=function(a,b){function c(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=4096,u=-1,v=c,w=new Array(c),x=new Array(t),y=new Array(t),z=new Array(t+1);for(o=a,e=1<<o,h=e+1,d=e+2,j=u,g=o+1,f=(1<<g)-1,l=0;e>l;l++)x[l]=0,y[l]=l;for(n=k=count=p=q=s=r=0,m=0;v>m;){if(0===q){if(g>k){n+=b[r]<<k,k+=8,r++;continue}if(l=n&f,n>>=g,k-=g,l>d||l==h)break;if(l==e){g=o+1,f=(1<<g)-1,d=e+2,j=u;continue}if(j==u){z[q++]=y[l],j=l,p=l;continue}for(i=l,l==d&&(z[q++]=p,l=j);l>e;)z[q++]=y[l],l=x[l];p=255&y[l],z[q++]=p,t>d&&(x[d]=j,y[d]=p,d++,0===(d&f)&&t>d&&(g++,f+=d)),j=i}q--,w[s++]=z[q],m++}for(m=s;v>m;m++)w[m]=0;return w}function d(a,b){for(var c=new Array(a.length),d=a.length/b,e=function(d,e){var f=a.slice(e*b,(e+1)*b);c.splice.apply(c,[d*b,b].concat(f))},f=[0,4,2,1],g=[8,8,4,2],h=0,i=0;4>i;i++)for(var j=f[i];d>j;j+=g[i])e(j,h),h++;return c}function e(a){for(var b=a.pixels.length,c=new Uint8ClampedArray(4*b),d=0;b>d;d++){var e=4*d,f=a.pixels[d],g=a.colorTable[f];c[e]=g[0],c[e+1]=g[1],c[e+2]=g[2],c[e+3]=f!==a.transparentIndex?255:0}return c}if(a>=this.raw.frames.length)return null;var f=this.raw.frames[a];if(f.image){var g=f.image.descriptor.width*f.image.descriptor.height,h=c(f.image.data.minCodeSize,f.image.data.blocks,g);f.image.descriptor.lct.interlaced&&(h=d(h,f.image.descriptor.width));var i={pixels:h,dims:{top:f.image.descriptor.top,left:f.image.descriptor.left,width:f.image.descriptor.width,height:f.image.descriptor.height}};return f.image.descriptor.lct&&f.image.descriptor.lct.exists?i.colorTable=f.image.lct:i.colorTable=this.raw.gct,f.gce&&(i.delay=10*(f.gce.delay||10),i.disposalType=f.gce.extras.disposal,f.gce.extras.transparentColorGiven&&(i.transparentIndex=f.gce.transparentColorIndex)),b&&(i.patch=e(i)),i}return null},d.prototype.decompressFrames=function(a){for(var b=[],c=0;c<this.raw.frames.length;c++){var d=this.raw.frames[c];d.image&&b.push(this.decompressFrame(c,a))}return b},b.exports=d},{"../bower_components/js-binary-schema-parser/src/dataparser":2,"./schema":6}],6:[function(a,b,c){var d=a("../bower_components/js-binary-schema-parser/src/parsers"),e={label:"blocks",parser:function(a){for(var b=[],c=0,d=a.readByte();d!==c;d=a.readByte())b=b.concat(a.readBytes(d));return b}},f={label:"gce",requires:function(a){var b=a.peekBytes(2);return 33===b[0]&&249===b[1]},parts:[{label:"codes",parser:d.readBytes(2),skip:!0},{label:"byteSize",parser:d.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:d.readUnsigned(!0)},{label:"transparentColorIndex",parser:d.readByte()},{label:"terminator",parser:d.readByte(),skip:!0}]},g={label:"image",requires:function(a){var b=a.peekByte();return 44===b},parts:[{label:"code",parser:d.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:d.readUnsigned(!0)},{label:"top",parser:d.readUnsigned(!0)},{label:"width",parser:d.readUnsigned(!0)},{label:"height",parser:d.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(a,b,c){return c.descriptor.lct.exists},parser:d.readArray(3,function(a,b,c){return Math.pow(2,c.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:d.readByte()},e]}]},h={label:"text",requires:function(a){var b=a.peekBytes(2);return 33===b[0]&&1===b[1]},parts:[{label:"codes",parser:d.readBytes(2),skip:!0},{label:"blockSize",parser:d.readByte()},{label:"preData",parser:function(a,b,c){return a.readBytes(c.text.blockSize)}},e]},i={label:"application",requires:function(a,b,c){var d=a.peekBytes(2);return 33===d[0]&&255===d[1]},parts:[{label:"codes",parser:d.readBytes(2),skip:!0},{label:"blockSize",parser:d.readByte()},{label:"id",parser:function(a,b,c){return a.readString(c.blockSize)}},e]},j={label:"comment",requires:function(a,b,c){var d=a.peekBytes(2);return 33===d[0]&&254===d[1]},parts:[{label:"codes",parser:d.readBytes(2),skip:!0},e]},k={label:"frames",parts:[f,i,j,g,h],loop:function(a){var b=a.peekByte();return 33===b||44===b}},l=[{label:"header",parts:[{label:"signature",parser:d.readString(3)},{label:"version",parser:d.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:d.readUnsigned(!0)},{label:"height",parser:d.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:d.readByte()},{label:"pixelAspectRatio",parser:d.readByte()}]},{label:"gct",requires:function(a,b){return b.lsd.gct.exists},parser:d.readArray(3,function(a,b){return Math.pow(2,b.lsd.gct.size+1)})},k];b.exports=l},{"../bower_components/js-binary-schema-parser/src/parsers":3}]},{},[4]);var g,h,i,j=document.createElement("canvas"),k=j.getContext("2d");c.prototype._draw=function(a,b,c){if(c=c||this._canvas,!c)throw new Error("GifSprite#_draw requires a canvas!");a=a||this.x,b=b||this.y;var d=this._frames[this._index],e=c.getContext("2d"),f=d.dims;this._frameImageData&&f.width==this._frameImageData.width&&f.height==this._frameImageData.height||(this._frameImageData=e.createImageData(f.width,f.height)),this.x=a,this.y=b,this.h=f.height,this.w=f.width,this._frameImageData.data.set(d.patch),c.width=this.w,c.height=this.h,e.putImageData(this._frameImageData,a,b)},c.prototype.put=function(a,b,c,d){d=d||0,this._index=d,this._canvas=a,this.x=b,this.y=c,this._draw(b,c)},c.prototype["goto"]=function(a){a=a||0,this._index=a,this._draw()},c.prototype.play=function(){this._playing=!0,this._update()},c.prototype.pause=function(){this._playing=!1},c.prototype._update=function(){var a=this._frames[this._index],b=(new Date).getTime();this._draw(),this._index++,this._index>=this._frames.length&&(this._index=0);var c=(new Date).getTime(),d=c-b;this._playing&&setTimeout(function(){requestAnimationFrame(this._update.bind(this))}.bind(this),Math.max(0,Math.floor(a.delay-d)))};var l={onload:null};return function(b){return a(b),l}}(),c=document.createElement("canvas"),res=parseGif("/horses.gif"),sprite;res.onload=function(){sprite=res.getSprite()},document.onload=function(){document.body.appendChild(c)};